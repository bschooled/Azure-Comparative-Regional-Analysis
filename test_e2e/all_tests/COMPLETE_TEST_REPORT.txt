================================================================================
COMPREHENSIVE TEST REPORT
================================================================================
Generated: 2026-01-21 04:53:31 UTC
Project: Azure Comparative Regional Analysis

================================================================================
OVERALL RESULTS
================================================================================
Total Tests Passed:  9
Total Tests Failed:  0
Test Suites Passed:  3
Test Suites Failed:  0

Pass Rate: 100%

================================================================================
TEST SUITES EXECUTED
================================================================================
1. Quota Analysis Tests
   - CSV parsing with quoted fields
   - Top 5 Quota Consumers extraction
   - Quota display formatting
   - Resources needing quota calculation
   - Empty quota file handling
   - Field count validation
   - Region filtering
   - Percentage calculation

2. End-to-End Tests
   - Inventory generation with AI/Foundry resources
   - Ingestion of pre-generated inventory files
   - Real SKU lookups in target region
   - Output file validation
   - Availability reporting
   - Cache generation and reuse
   - Quota summary file validation
   - Quota data structure validation
   - Quota display format validation
   - Execution statistics display order
   - Quota resource count logic

3. Quick Validation Tests
   - Basic functionality checks
   - Critical path validation

================================================================================
QUOTA TESTING COVERAGE
================================================================================
The test framework now includes comprehensive quota analysis testing:

Display Format Tests:
  ✓ Execution statistics appear first in output
  ✓ Top 5 quota consumers extracted and formatted
  ✓ Proper alignment and spacing in display
  ✓ Resources needing quota shows correct count (0 when all fit)

Data Processing Tests:
  ✓ CSV parsing handles quoted field values
  ✓ Region filtering works correctly
  ✓ Percentage calculations accurate
  ✓ Empty quota data handled gracefully

Validation Tests:
  ✓ CSV structure with 7 required fields
  ✓ Quota file headers present and correct
  ✓ Field count validation (6 commas, 7 fields)
  ✓ Sorting by usage percentage descending

Integration Tests:
  ✓ E2E tests validate quota section in output
  ✓ Quota display appears in correct order
  ✓ Status messages display appropriately

================================================================================
TEST ARTIFACTS
================================================================================
Test Logs:
  - /home/bschooley/Azure-Comparative-Regional-Analysis/test_e2e/all_tests/quota_test.log
  - /home/bschooley/Azure-Comparative-Regional-Analysis/test_e2e/all_tests/e2e_test.log
  - /home/bschooley/Azure-Comparative-Regional-Analysis/test_e2e/all_tests/quick_validation.log

Quota Test Results:
  - /home/bschooley/Azure-Comparative-Regional-Analysis/test_e2e/quota_tests/report.txt

E2E Test Results:
  - /home/bschooley/Azure-Comparative-Regional-Analysis/test_e2e/report.txt

================================================================================
RECOMMENDATIONS
================================================================================
1. Run full test suite: bash tests/run_all_tests.sh
2. Run quota tests only: bash tests/test_quota_analysis.sh
3. Run e2e tests only: bash tests/e2e_test.sh
4. Run with actual subscription: inv.sh --subscriptions <subid> --source-region <src> --target-region <tgt>

For quota analysis, use:
  - --subscriptions flag for per-subscription quota fetching
  - --rg flag for resource-group-specific quota fetching
  Note: Quota is not available with --all flag (use per-subscription scope)

================================================================================
STATUS
================================================================================
✅ ALL TESTS PASSED
